!function(){"use strict";angular.module("app",["app.core","app.lab","app.homepage","app.layout"])}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngSanitize","blocks.exception","blocks.logger","blocks.router","ui.router","ngMaterial","duScroll"])}(),function(){"use strict";function e(e,t,r){e.debugEnabled&&e.debugEnabled(!0),r.configure(o.appErrorPrefix),t.configure({docTitle:o.appTitle+": "})}var t=angular.module("app.core"),o={appErrorPrefix:"[<%= appName %> Error] ",appTitle:"<%= appName %>"};t.value("config",o),t.config(e),e.$inject=["$logProvider","routerHelperProvider","exceptionHandlerProvider"]}(),function(){"use strict";function e(e){var o="/404";e.configureStates(t(),o)}function t(){return[{state:"404",config:{url:"/404",templateUrl:"app/core/404.html",title:"404"}}]}e.$inject=["routerHelper"],angular.module("app.core").run(e)}(),function(){"use strict";function e(e,t,o,r){function n(){return a.products}function c(){return u.then(function(e){return a=e.data,!0},function(){return r.error("Impossible de récupérer les données"),!1})}var i="/ressources/products.json",u=e.get(i),a=null,l={ready:c,getProducts:n};return l}angular.module("app.core").factory("dataservice",e),e.$inject=["$http","$q","exception","logger"]}(),function(){"use strict";function e(){return function(e,t){for(var o=0,r=e.length;r>o;o++)if(e[o].value==t||e[o].name==t)return e[o];return null}}angular.module("app.core").filter("getByName",e)}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.router",["ui.router","blocks.logger"])}(),function(){"use strict";function e(e,t){function o(t,o,r){console.error(t,r),e.error("Error: "+t,o)}function r(t,o,r){console.info(t,r),e.info("Info: "+t,o)}function n(t,o,r){console.log(t,r),e.info("Success: "+t,o)}function c(t,o,r){console.warn(t,r),e.warn("Warning: "+t,o)}var i={error:o,info:r,success:n,warning:c,log:e.log};return i}angular.module("blocks.logger").factory("logger",e),e.$inject=["$log"]}(),function(){"use strict";function e(){this.config={appErrorPrefix:void 0},this.configure=function(e){this.config.appErrorPrefix=e},this.$get=function(){return{config:this.config}}}function t(e){e.decorator("$exceptionHandler",o)}function o(e,t,o){return function(r,n){var c=t.config.appErrorPrefix||"",i={exception:r,cause:n};r.message=c+r.message,e(r,n),o.error(r.message,i)}}angular.module("blocks.exception").provider("exceptionHandler",e).config(t),t.$inject=["$provide"],o.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function e(e,t){function o(o){return function(r){var n,c;return r.data&&r.data.description&&(n="\n"+r.data.description,c=o+n),r.data.description=c,t.error(c),e.reject(r)}}var r={catcher:o};return r}e.$inject=["$q","logger"],angular.module("blocks.exception").factory("exception",e)}(),function(){"use strict";function e(e,t,o){function r(e,r,c,i){function u(e,r){e.forEach(function(e){e.config.resolve=angular.extend(e.config.resolve||{},n.resolveAlways),t.state(e.state,e.config)}),r&&!m&&(m=!0,o.otherwise(r))}function a(){r.$on("$stateChangeError",function(t,o,r,n,c,u){if(!f){g.errors++,f=!0;var a=o&&(o.title||o.name||o.loadedTemplateUrl)||"unknown target",l="Error routing to "+a+". "+(u.data||"")+". <br/>"+(u.statusText||"")+": "+(u.status||"");i.warning(l,[o]),e.path("/")}})}function l(){a(),p()}function s(){return c.get()}function p(){r.$on("$stateChangeSuccess",function(e,t,o,c,i){g.changes++,f=!1;var u=n.docTitle+" "+(t.title||"");r.title=u})}var f=!1,m=!1,g={errors:0,changes:0},d={configureStates:u,getStates:s,stateCounts:g};return l(),d}var n={docTitle:void 0,resolveAlways:{}};e.html5Mode({enabled:!1,requireBase:!1}),this.configure=function(e){angular.extend(n,e)},this.$get=r,r.$inject=["$location","$rootScope","$state","logger"]}angular.module("blocks.router").provider("routerHelper",e),e.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("app.lab.attributes",["app.core"])}(),function(){angular.module("app.lab.products",["app.core"])}(),function(){"use strict";angular.module("app.homepage",["app.core"])}(),function(){angular.module("app.lab",["app.core","app.lab.products","app.lab.attributes"])}(),function(){"use strict";angular.module("app.layout",["app.core"])}(),function(){"use strict";function e(){var e=this;e.title="Homepage"}angular.module("app.homepage").controller("HomeController",e)}(),$(document).ready(function(){heightElem(),heightElemResize()});var heightElem=function(){var e=$(window).outerHeight(),t=$("#header").outerHeight(),o=e-t;$(".home-top").outerHeight(o)},heightElemResize=function(){$(window).resize(function(){setTimeout(function(){heightElem()},800)})};!function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"homepage",config:{url:"/",templateUrl:"app/homepage/homepage.view.html",controller:"HomeController",controllerAs:"home",title:"DoYourBeauty"}}]}angular.module("app.homepage").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e){var t=this;t.choices={}}angular.module("app.lab").controller("LabController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"lab",config:{url:"/lab",templateUrl:"app/lab/lab.view.html",controller:"LabController",controllerAs:"labVm",title:"DoYourBeauty - Lab"}}]}angular.module("app.lab").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,t,o,r,n,c){function i(){return"undefined"==typeof e.labVm.choices.product?void t.go("lab.products"):(c.scrollTop(0,0),r.smallHeader=!0,b.product=e.labVm.choices.product,b.attributes=o("orderBy")(b.product.attributes,"order"),void(b.current=b.attributes[0]))}function u(e){return"app/lab/attributes/forms/"+e.form+"/"+e.form+".view.html"}function a(e){return"app/lab/attributes/summary/"+e.name+"/"+e.name+".view.html"}function l(t){return"undefined"!=typeof e.labVm.choices[t.name]}function s(t){d();var o=0,r=!0,n=b.attributes[0];for($("#summary");o<b.attributes.length&&r;){var i=angular.element(document.getElementById(b.attributes[o].name)),u=i.prop("offsetTop")-b.offset-5,a=i.prop("offsetTop")+i[0].offsetHeight-b.offset-5;c.scrollTop()>=u&&(c.scrollTop()<=a?(b.current=b.attributes[o],r=!1):o==b.attributes.length-1?(b.current="summary",r=!1):n=b.attributes[o+1]),o++}r&&(b.current=n),e.$apply()}function p(e){"summary"==e?m(document.querySelector("#summary")):b.current&&e.name===b.current.name||m(document.querySelector("#"+e.name))}function f(e){var t=angular.element(e).next();m(t[0])}function m(e){c.scrollToElement(e,b.offset,1e3)}function g(){var t=Object.keys(e.labVm.choices).length;return t==b.attributes.length+1}function d(){}var b=this;b.product=null,b.attributes=[],b.offset=218,b.getForm=u,b.getResultView=a,b.choiceValidate=l,b.render=p,b.goToNext=f,b.isFinish=g,n.addEventListener("scroll",s),i(),e.$on("$destroy",function(){r.smallHeader=!1,n.removeEventListener("scroll",s)})}angular.module("app.lab.attributes").controller("AttributesController",e),e.$inject=["$scope","$state","$filter","$rootScope","$window","$document"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"lab.attributes",config:{url:"/attributes",title:"DoYourBeauty - attributes",controller:"AttributesController",controllerAs:"attributesVm",templateUrl:"app/lab/attributes/attributes.view.html"}}]}angular.module("app.lab.attributes").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,t,o){function r(){o.ready().then(n)}function n(){i.products=o.getProducts()}function c(t){e.labVm.choices.product=t}var i=this;i.select=c,r()}angular.module("app.lab.products").controller("ProductsController",e),e.$inject=["$scope","$state","dataservice"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"lab.products",config:{url:"/products",title:"DoYourBeauty - products",controller:"ProductsController",controllerAs:"productsVm",templateUrl:"app/lab/products/products.view.html"}}]}angular.module("app.lab.products").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,t){function o(t){n.choice=t,e.labVm.choices[n.attribute.name]=t,r(n.choice.img),e.attributesVm.goToNext(document.querySelector("#"+n.attribute.name))}function r(e){n.attribute.haveImgPreview&&(n.imgPreview=e)}var n=this;n.choice=null,n.imgPreview=null,n.setChoice=o,n.setImgPreview=r}angular.module("app.lab.attributes").controller("BtnRadioController",e),e.$inject=["$scope","$filter"]}(),function(){"use strict";function e(e){function t(e){return n.choices.indexOf(e)>-1}function o(e){var t=n.choices.indexOf(e);t>-1?n.choices.splice(t,1):n.choices.push(e)}function r(){e.labVm.choices[n.attribute.name]=n.choices,e.attributesVm.goToNext(document.querySelector("#"+n.attribute.name))}var n=this;n.choices=[],n.exists=t,n.toggle=o,n.saveChoices=r}angular.module("app.lab.attributes").controller("CheckboxController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){function t(e){n.choice&&(document.getElementById("form-color-"+n.choice.value).style.opacity=1,n.percent=100),n.choice=e}function o(){e.labVm.choices[n.attribute.name]=n.choice,e.labVm.choices[n.attribute.name].percent=parseFloat(n.percent),e.attributesVm.goToNext(document.querySelector("#"+n.attribute.name))}function r(){document.getElementById("form-color-"+n.choice.value).style.opacity=n.percent/100}var n=this,n=this;n.choice=null,n.setChoice=t,n.setOpacity=r,n.saveChoice=o,n.percent=100}angular.module("app.lab.attributes").controller("ColorController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){function t(t){o.choice=t,e.labVm.choices[o.attribute.name]=t,e.attributesVm.goToNext(document.querySelector("#"+o.attribute.name))}var o=this;o.choice=null,o.setChoice=t}angular.module("app.lab.attributes").controller("ImgRadioController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){function t(){""!==o.choice&&null!==o.choice?(e.labVm.choices[o.attribute.name]=o.choice,e.attributesVm.goToNext(document.querySelector("#"+o.attribute.name))):delete e.labVm.choices[o.attribute.name]}var o=this;o.choice=null,o.setChoice=t}angular.module("app.lab.attributes").controller("InputTextController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){function t(e){r.choice&&(r.percent=100),r.choice=e}function o(){e.labVm.choices[r.attribute.name]=r.choice,e.labVm.choices[r.attribute.name].percent=r.percent,e.attributesVm.goToNext(document.querySelector("#"+r.attribute.name))}var r=this,r=this;r.choice=null,r.setChoice=t,r.saveChoice=o,r.percent=100}angular.module("app.lab.attributes").controller("RadioSliderController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e,t){function o(){t.scrollTo(0,0,1e3)}function r(e){return console.log(e),e/100}var n=this;n.goToTop=o,n.transformPercent=r}angular.module("app.lab.attributes").controller("CreamController",e),e.$inject=["$scope","$document"]}();